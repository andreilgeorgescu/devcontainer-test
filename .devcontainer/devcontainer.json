{
  "image": "mcr.microsoft.com/devcontainers/base:1-ubuntu-22.04",
  "features": {
    "ghcr.io/trunk-io/devcontainer-feature/trunk:1": {}
  },
  "customizations": {
    "vscode": {
      "extensions": [
        "christian-kohler.path-intellisense",
        "redhat.vscode-yaml",
        "remcohaszing.schemastore",
        "tamasfe.even-better-toml"
      ],
      "settings": {
        //// Customization
        // Editor Formatting and Whitespace
        "editor.detectIndentation": false,
        "editor.formatOnSave": true,
        "editor.insertSpaces": true,
        "editor.tabSize": 2,
        "editor.trimAutoWhitespace": true,
        "editor.wordWrap": "off",
        "files.insertFinalNewline": true,
        "files.trimFinalNewlines": true,
        "files.trimTrailingWhitespace": true,
        // File and Encoding Settings
        "files.autoSave": "off",
        "files.encoding": "utf8",
        "files.eol": "\n",
        "files.readonlyInclude": {
          ".gitignore": true,
          ".trunk/**/*": true, // Trunk Check
          "**/{,*-}lock{,.*}": true,
          "**/{bin,build,dist,out,site}/**/*": true,
          "**/{tmp,temp}/**/*": true,
          "**/cache/**/*": true,
          "/{CHANGELOG,CHANGES,HISTORY}{,.*}": true,
          "/{LICENSE,LEGAL}{,.*}": true
        },
        // Git Integration
        "git.autofetch": true,
        "git.confirmSync": false,
        "git.enableSmartCommit": false,
        "git.mergeEditor": true,
        "git.postCommitCommand": "sync",
        "git.suggestSmartCommit": false,
        // Markdown and Notebook Settings
        "markdown.editor.drop.copyIntoWorkspace": "never",
        "markdown.editor.filePaste.copyIntoWorkspace": "never",
        "markdown.updateLinksOnFileMove.enabled": "always",
        "notebook.formatOnSave.enabled": true,
        //// Codespace Specific
        // Path Intellisense
        "path-intellisense.autoSlashAfterDirectory": true,
        // Trunk Check
        "editor.defaultFormatter": "trunk.io",
        "files.readonlyExclude": {
          ".trunk/configs/**/*": true,
          ".trunk/trunk.yaml": true
        },
        "trunk.autoInit": false,
        "trunk.inlineDecorators": false,
        // YAML
        "yaml.extension.recommendations": false,
        "yaml.format.enable": false,
        "yaml.validate": false,
        // Ubuntu
        "terminal.integrated.defaultProfile.linux": "zsh"
      }
    }
  },
  "updateContentCommand": "trunk install && curl 'https://www.toptal.com/developers/gitignore/api/linux,git,zsh,visualstudiocode' > .gitignore"
}
